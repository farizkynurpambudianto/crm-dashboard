<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />

    <title>CRM DEKA - Login</title>

    <!-- Custom fonts for this template-->
    <link
      href="vendor/fontawesome-free/css/all.min.css"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="https://api.fontshare.com/css?f[]=satoshi@300,301,400,401,500,501,700,701,900,901,1,2&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" href="/32px.png" type="image/png" />

    <!-- Custom styles for this template-->
    <link href="css/sb-admin-2.css" rel="stylesheet" />
    <link href="css/typography.css" rel="stylesheet" />
  </head>

  <body class="bg-white" style="height: 100vh">
    <div class="container h-100">
      <div
        class="fixed-top d-flex align-items-center justify-content-start bg-white"
        style="
          border-bottom: 1px solid #ededed;
          box-shadow: 0px 24px 96px rgba(0, 0, 0, 0.02);
          padding: 24px 0px;
        "
      >
        <div style="padding-left: 120px; padding-right: 120px">
          <a href="index.html">
            <img class="img-fluid" src="img/logo_deka.svg" alt="..." />
          </a>
        </div>
      </div>
      <div class="row justify-content-center align-items-center h-100">
        <div
          class="card-auth"
          style="
            border: 1px solid #eff0f6;
            box-shadow: 0px 4px 6px rgba(18, 33, 66, 0.1);
            border-radius: 8px;
            margin-top: 96px;
            margin-bottom: 71px;
            padding: 24px 48px;
          "
        >
          <div class="mb-4">
            <p class="bold-heading-1 mb-3 neutral-800--text">Ubah Kata Sandi</p>
            <p class="regular-body mb-5">
              Masukkan kata sandi baru dengan kombinasi yang lebih baik dari
              yang anda miliki sebelumnya
            </p>
          </div>

          <form class="user">
            <div class="mb-5">
              <div class="form-group mb-4">
                <p
                  class="medium-body neutral-800--text"
                  style="margin-bottom: 12px"
                >
                  Kata Sandi Baru
                </p>
                <div class="input-group">
                  <input
                    type="password"
                    class="form-control form-control-user"
                    id="newPassword"
                    placeholder="Masukkan password anda..."
                    oninput="handlePasswordValidation(event, '#indicator-section')"
                  />
                  <button
                    type="button"
                    class="custom-icon-button"
                    onclick="handleShowNewPassword()"
                  >
                    <i class="fa fa-eye-slash"></i>
                  </button>
                </div>
              </div>
              <div class="form-group">
                <p
                  class="medium-body neutral-800--text"
                  style="margin-bottom: 12px"
                >
                  Konfirmasi Kata Sandi Baru
                </p>
                <div class="input-group">
                  <input
                    type="password"
                    class="form-control form-control-user"
                    id="confirmPassword"
                    placeholder="Konfirmasi password anda..."
                  />
                  <button
                    type="button"
                    class="custom-icon-button"
                    onclick="handleShowConfirmPassword()"
                  >
                    <i class="fa fa-eye-slash"></i>
                  </button>
                </div>
              </div>
              <div class="row no-gutters mt-4 mb-2" id="indicator-section">
                <div
                  id="level-1"
                  class="col m-1 rounded-pill bg-gray-400"
                  style="height: 3px"
                ></div>
                <div
                  id="level-2"
                  class="col m-1 rounded-pill bg-gray-400"
                  style="height: 3px"
                ></div>
                <div
                  id="level-3"
                  class="col m-1 rounded-pill bg-gray-400"
                  style="height: 3px"
                ></div>
                <div
                  id="level-4"
                  class="col m-1 rounded-pill bg-gray-400"
                  style="height: 3px"
                ></div>
              </div>
              <div>
                <li class="medium-metadata primary-800--text mb-3">
                  Berisi setidaknya 6 karakter
                </li>
                <li class="medium-metadata primary-800--text mb-3">
                  Berisi setidaknya satu angka & huruf besar
                </li>
                <li class="medium-metadata primary-800--text mb-0">
                  Berawalan dengan huruf kapital
                </li>
              </div>
            </div>
            <a
              href="reset-password-success.html"
              class="btn btn-dark bg-primary-600 btn-user btn-block bold-body"
            >
              Konfirmasi Kata Sandi
            </a>
          </form>
        </div>
      </div>
      <div
        class="fixed-bottom d-flex align-items-center justify-content-center bg-white"
        style="
          border-top: 1px solid #ededed;
          box-shadow: 0px 24px 96px rgba(0, 0, 0, 0.02);
          padding: 24px 0px;
        "
      >
        <p class="regular-metadata neutral-700--text mb-0">
          2021 Deka Insight. All right reserved.
        </p>
      </div>
    </div>

    <script>
      const handleShowNewPassword = () => {
        let x = document.getElementById('newPassword')
        if (x.type === 'password') {
          x.type = 'text'
        } else {
          x.type = 'password'
        }
      }

      const handleShowConfirmPassword = () => {
        let x = document.getElementById('confirmPassword')
        if (x.type === 'password') {
          x.type = 'text'
        } else {
          x.type = 'password'
        }
      }

      const handlePasswordValidation = (e, id) => {
        const pass = e.target.value
        const elementId = id || '#createAdminModal'
        let strength = 0
        const arr = [/.{5,}/, /[a-z]+/, /[0-9]+/, /^[A-Z]/]
        jQuery.map(arr, function (regexp) {
          if (pass.match(regexp)) strength++
        })
        handlePasswordStrength(strength, elementId)
      }

      const handlePasswordStrength = (strength, elementId) => {
        for (let i = 1; i <= 4; i++) {
          if (i <= strength) {
            $(`${elementId} #level-${i}`).addClass('bg-gradient-success')
            $(`${elementId} #level-${i}`).removeClass('bg-gray-400')
          } else {
            $(`${elementId} #level-${i}`).addClass('bg-gray-400')
            $(`${elementId} #level-${i}`).removeClass('bg-gradient-success')
          }
        }
      }
    </script>
    <!-- Bootstrap core JavaScript-->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Core plugin JavaScript-->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Custom scripts for all pages-->
    <script src="js/sb-admin-2.min.js"></script>
  </body>
</html>
